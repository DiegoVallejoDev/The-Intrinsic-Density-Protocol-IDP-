/* =====================================================
   LAYOUT: THE COCKPIT SHELL
   The core IDP layout system
   ===================================================== */

/* === BASE SHELL === */
.idp-shell {
    display: grid;
    min-height: 100vh;
    /* Mobile: stacked layout */
    grid-template-rows: auto 1fr;
    grid-template-columns: 1fr;
    grid-template-areas:
        "nav"
        "main";
}

/* === DESKTOP: 2-COLUMN (Sidebar + Main) === */
@media (min-width: 1024px) {
    .idp-shell {
        grid-template-columns: 260px 1fr;
        grid-template-rows: 1fr;
        grid-template-areas: "nav main";
    }
}

/* === WITH CONTEXT PANEL (3-Column Cockpit) === */
.idp-shell--context {
    grid-template-areas:
        "nav"
        "main"
        "context";
}

@media (min-width: 1024px) {
    .idp-shell--context {
        grid-template-columns: 260px 1fr 320px;
        grid-template-areas: "nav main context";
    }
}

/* === ULTRAWIDE OPTIMIZATION === */
@media (min-width: 1800px) {
    .idp-shell--context {
        /* Constrain content, expand context */
        grid-template-columns: 280px minmax(800px, 1100px) 1fr;
    }
}

/* === SHELL VARIANTS === */

/* Sidebar only (no context panel) */
.idp-shell--sidebar-only {
    grid-template-areas:
        "nav"
        "main";
}

@media (min-width: 1024px) {
    .idp-shell--sidebar-only {
        grid-template-columns: 260px 1fr;
        grid-template-areas: "nav main";
    }
}

/* Context only (no sidebar) */
.idp-shell--context-only {
    grid-template-areas:
        "main"
        "context";
}

@media (min-width: 1024px) {
    .idp-shell--context-only {
        grid-template-columns: 1fr 320px;
        grid-template-areas: "main context";
    }
}

/* Full width (single column, no panels) */
.idp-shell--full {
    grid-template-columns: 1fr;
    grid-template-areas: "main";
}

/* Backwards compatibility */
.idp-shell.has-context {
    grid-template-areas:
        "nav"
        "main"
        "context";
}

@media (min-width: 1024px) {
    .idp-shell.has-context {
        grid-template-columns: 260px minmax(0, 1fr) 320px;
        grid-template-areas: "nav main context";
    }
}

@media (min-width: 1800px) {
    .idp-shell.has-context {
        grid-template-columns: 280px minmax(800px, 1100px) 1fr;
    }
}